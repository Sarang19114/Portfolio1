"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_pages-dir-node_src_components_BlackHole_jsx";
exports.ids = ["_pages-dir-node_src_components_BlackHole_jsx"];
exports.modules = {

/***/ "(pages-dir-node)/./src/components/BlackHole.jsx":
/*!**************************************!*\
  !*** ./src/components/BlackHole.jsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(pages-dir-node)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_EffectComposer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer.js */ \"(pages-dir-node)/./node_modules/three/examples/jsm/postprocessing/EffectComposer.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass.js */ \"(pages-dir-node)/./node_modules/three/examples/jsm/postprocessing/RenderPass.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_UnrealBloomPass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/postprocessing/UnrealBloomPass.js */ \"(pages-dir-node)/./node_modules/three/examples/jsm/postprocessing/UnrealBloomPass.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! three/examples/jsm/postprocessing/ShaderPass.js */ \"(pages-dir-node)/./node_modules/three/examples/jsm/postprocessing/ShaderPass.js\");\n/* harmony import */ var _hooks_useInView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hooks/useInView */ \"(pages-dir-node)/./src/hooks/useInView.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\nconst BlackHole = ({ className = '' })=>{\n    const mountRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const resizeTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const rafRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const mouseRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        x: 0,\n        y: 0\n    });\n    const isPausedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Track visibility for pausing render loop\n    const { ref: visibilityRef, isInView } = (0,_hooks_useInView__WEBPACK_IMPORTED_MODULE_2__.useInView)({\n        rootMargin: '0px',\n        threshold: 0.01,\n        triggerOnce: false\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BlackHole.useEffect\": ()=>{\n            const mount = mountRef.current;\n            if (!mount) return;\n            const BLACK_HOLE_RADIUS = 1.3;\n            const DISK_INNER_RADIUS = BLACK_HOLE_RADIUS + 0.2;\n            const DISK_OUTER_RADIUS = 8.0;\n            const DISK_TILT_ANGLE = Math.PI / 3.0;\n            const scene = new three__WEBPACK_IMPORTED_MODULE_3__.Scene();\n            scene.fog = new three__WEBPACK_IMPORTED_MODULE_3__.FogExp2(0x020104, 0.025);\n            const camera = new three__WEBPACK_IMPORTED_MODULE_3__.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 4000);\n            // Fixed base position for the camera\n            const baseCameraPosition = {\n                x: -6.5,\n                y: 5.0,\n                z: 6.5\n            };\n            camera.position.set(baseCameraPosition.x, baseCameraPosition.y, baseCameraPosition.z);\n            const renderer = new three__WEBPACK_IMPORTED_MODULE_3__.WebGLRenderer({\n                antialias: true,\n                powerPreference: \"high-performance\",\n                alpha: true\n            });\n            renderer.setSize(window.innerWidth, window.innerHeight);\n            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 1.5));\n            renderer.outputColorSpace = three__WEBPACK_IMPORTED_MODULE_3__.SRGBColorSpace;\n            renderer.toneMapping = three__WEBPACK_IMPORTED_MODULE_3__.ACESFilmicToneMapping;\n            renderer.toneMappingExposure = 1.8; // Increased exposure for brighter, more vivid colors\n            renderer.setClearColor(0x000000, 0.1); // Minimal transparency for vivid colors\n            mount.appendChild(renderer.domElement);\n            const composer = new three_examples_jsm_postprocessing_EffectComposer_js__WEBPACK_IMPORTED_MODULE_4__.EffectComposer(renderer);\n            composer.addPass(new three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_5__.RenderPass(scene, camera));\n            const bloomPass = new three_examples_jsm_postprocessing_UnrealBloomPass_js__WEBPACK_IMPORTED_MODULE_6__.UnrealBloomPass(new three__WEBPACK_IMPORTED_MODULE_3__.Vector2(window.innerWidth, window.innerHeight), 1.2, 0.4, 0.9 // Increased bloom strength and threshold for more vibrant effect\n            );\n            composer.addPass(bloomPass);\n            const lensingShader = {\n                uniforms: {\n                    \"tDiffuse\": {\n                        value: null\n                    },\n                    \"blackHoleScreenPos\": {\n                        value: new three__WEBPACK_IMPORTED_MODULE_3__.Vector2(0.5, 0.5)\n                    },\n                    \"lensingStrength\": {\n                        value: 0.12\n                    },\n                    \"lensingRadius\": {\n                        value: 0.3\n                    },\n                    \"aspectRatio\": {\n                        value: window.innerWidth / window.innerHeight\n                    },\n                    \"chromaticAberration\": {\n                        value: 0.005\n                    }\n                },\n                vertexShader: `varying vec2 vUv; void main() { vUv = uv; gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0); }`,\n                fragmentShader: `\n            uniform sampler2D tDiffuse;\n            uniform vec2 blackHoleScreenPos;\n            uniform float lensingStrength;\n            uniform float lensingRadius;\n            uniform float aspectRatio;\n            uniform float chromaticAberration;\n            varying vec2 vUv;\n            \n            void main() {\n                vec2 screenPos = vUv;\n                vec2 toCenter = screenPos - blackHoleScreenPos;\n                toCenter.x *= aspectRatio;\n                float dist = length(toCenter);\n                \n                float distortionAmount = lensingStrength / (dist * dist + 0.003);\n                distortionAmount = clamp(distortionAmount, 0.0, 0.7);\n                float falloff = smoothstep(lensingRadius, lensingRadius * 0.3, dist);\n                distortionAmount *= falloff;\n                \n                vec2 offset = normalize(toCenter) * distortionAmount;\n                offset.x /= aspectRatio;\n                \n                vec2 distortedUvR = screenPos - offset * (1.0 + chromaticAberration);\n                vec2 distortedUvG = screenPos - offset;\n                vec2 distortedUvB = screenPos - offset * (1.0 - chromaticAberration);\n                \n                float r = texture2D(tDiffuse, distortedUvR).r;\n                float g = texture2D(tDiffuse, distortedUvG).g;\n                float b = texture2D(tDiffuse, distortedUvB).b;\n                \n                gl_FragColor = vec4(r, g, b, 1.0);\n            }`\n            };\n            const lensingPass = new three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_7__.ShaderPass(lensingShader);\n            composer.addPass(lensingPass);\n            // No controls - this is a static background animation\n            const starGeometry = new three__WEBPACK_IMPORTED_MODULE_3__.BufferGeometry();\n            const starCount = 150000;\n            const starPositions = new Float32Array(starCount * 3);\n            const starColors = new Float32Array(starCount * 3);\n            const starSizes = new Float32Array(starCount);\n            const starTwinkle = new Float32Array(starCount);\n            const starFieldRadius = 2000;\n            const starPalette = [\n                new three__WEBPACK_IMPORTED_MODULE_3__.Color(0x88aaff),\n                new three__WEBPACK_IMPORTED_MODULE_3__.Color(0xffaaff),\n                new three__WEBPACK_IMPORTED_MODULE_3__.Color(0xaaffff),\n                new three__WEBPACK_IMPORTED_MODULE_3__.Color(0xffddaa),\n                new three__WEBPACK_IMPORTED_MODULE_3__.Color(0xffeecc),\n                new three__WEBPACK_IMPORTED_MODULE_3__.Color(0xffffff),\n                new three__WEBPACK_IMPORTED_MODULE_3__.Color(0xff8888),\n                new three__WEBPACK_IMPORTED_MODULE_3__.Color(0x88ff88),\n                new three__WEBPACK_IMPORTED_MODULE_3__.Color(0xffff88),\n                new three__WEBPACK_IMPORTED_MODULE_3__.Color(0x88ffff)\n            ];\n            for(let i = 0; i < starCount; i++){\n                const i3 = i * 3;\n                const phi = Math.acos(-1 + 2 * i / starCount);\n                const theta = Math.sqrt(starCount * Math.PI) * phi;\n                const radius = Math.cbrt(Math.random()) * starFieldRadius + 100;\n                starPositions[i3] = radius * Math.sin(phi) * Math.cos(theta);\n                starPositions[i3 + 1] = radius * Math.sin(phi) * Math.sin(theta);\n                starPositions[i3 + 2] = radius * Math.cos(phi);\n                const starColor = starPalette[Math.floor(Math.random() * starPalette.length)].clone();\n                starColor.multiplyScalar(Math.random() * 0.7 + 0.3);\n                starColors[i3] = starColor.r;\n                starColors[i3 + 1] = starColor.g;\n                starColors[i3 + 2] = starColor.b;\n                starSizes[i] = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.randFloat(0.6, 3.0);\n                starTwinkle[i] = Math.random() * Math.PI * 2;\n            }\n            starGeometry.setAttribute('position', new three__WEBPACK_IMPORTED_MODULE_3__.BufferAttribute(starPositions, 3));\n            starGeometry.setAttribute('color', new three__WEBPACK_IMPORTED_MODULE_3__.BufferAttribute(starColors, 3));\n            starGeometry.setAttribute('size', new three__WEBPACK_IMPORTED_MODULE_3__.BufferAttribute(starSizes, 1));\n            starGeometry.setAttribute('twinkle', new three__WEBPACK_IMPORTED_MODULE_3__.BufferAttribute(starTwinkle, 1));\n            const starMaterial = new three__WEBPACK_IMPORTED_MODULE_3__.ShaderMaterial({\n                uniforms: {\n                    uTime: {\n                        value: 0\n                    },\n                    uPixelRatio: {\n                        value: renderer.getPixelRatio()\n                    }\n                },\n                vertexShader: `\n            uniform float uTime;\n            uniform float uPixelRatio;\n            attribute float size;\n            attribute float twinkle;\n            varying vec3 vColor;\n            varying float vTwinkle;\n            \n            void main() {\n                vColor = color;\n                vTwinkle = sin(uTime * 2.5 + twinkle) * 0.5 + 0.5;\n                \n                vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n                gl_PointSize = size * uPixelRatio * (300.0 / -mvPosition.z);\n                gl_Position = projectionMatrix * mvPosition;\n            }\n        `,\n                fragmentShader: `\n            varying vec3 vColor;\n            varying float vTwinkle;\n            \n            void main() {\n                float dist = distance(gl_PointCoord, vec2(0.5));\n                if (dist > 0.5) discard;\n                \n                float alpha = 1.0 - smoothstep(0.0, 0.5, dist);\n                alpha *= (0.2 + vTwinkle * 0.8);\n                \n                gl_FragColor = vec4(vColor, alpha);\n            }\n        `,\n                transparent: true,\n                vertexColors: true,\n                blending: three__WEBPACK_IMPORTED_MODULE_3__.AdditiveBlending,\n                depthWrite: false\n            });\n            const stars = new three__WEBPACK_IMPORTED_MODULE_3__.Points(starGeometry, starMaterial);\n            scene.add(stars);\n            const eventHorizonGeom = new three__WEBPACK_IMPORTED_MODULE_3__.SphereGeometry(BLACK_HOLE_RADIUS * 1.05, 128, 64);\n            const eventHorizonMat = new three__WEBPACK_IMPORTED_MODULE_3__.ShaderMaterial({\n                uniforms: {\n                    uTime: {\n                        value: 0\n                    },\n                    uCameraPosition: {\n                        value: camera.position\n                    }\n                },\n                vertexShader: `\n            varying vec3 vNormal;\n            varying vec3 vPosition;\n            void main() {\n                vNormal = normalize(normalMatrix * normal);\n                vPosition = position;\n                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n            }\n        `,\n                fragmentShader: `\n            uniform float uTime;\n            uniform vec3 uCameraPosition;\n            varying vec3 vNormal;\n            varying vec3 vPosition;\n            \n            void main() {\n                vec3 viewDirection = normalize(uCameraPosition - vPosition);\n                float fresnel = 1.0 - abs(dot(vNormal, viewDirection));\n                fresnel = pow(fresnel, 2.5);\n                \n                vec3 glowColor = vec3(1.0, 0.4, 0.1);\n                float pulse = sin(uTime * 2.5) * 0.15 + 0.85;\n                \n                gl_FragColor = vec4(glowColor * fresnel * pulse, fresnel * 0.4);\n            }\n        `,\n                transparent: true,\n                blending: three__WEBPACK_IMPORTED_MODULE_3__.AdditiveBlending,\n                side: three__WEBPACK_IMPORTED_MODULE_3__.BackSide\n            });\n            const eventHorizon = new three__WEBPACK_IMPORTED_MODULE_3__.Mesh(eventHorizonGeom, eventHorizonMat);\n            scene.add(eventHorizon);\n            const blackHoleGeom = new three__WEBPACK_IMPORTED_MODULE_3__.SphereGeometry(BLACK_HOLE_RADIUS, 128, 64);\n            const blackHoleMat = new three__WEBPACK_IMPORTED_MODULE_3__.MeshBasicMaterial({\n                color: 0x000000\n            });\n            const blackHoleMesh = new three__WEBPACK_IMPORTED_MODULE_3__.Mesh(blackHoleGeom, blackHoleMat);\n            blackHoleMesh.renderOrder = 0;\n            scene.add(blackHoleMesh);\n            const diskGeometry = new three__WEBPACK_IMPORTED_MODULE_3__.RingGeometry(DISK_INNER_RADIUS, DISK_OUTER_RADIUS, 256, 128);\n            const diskMaterial = new three__WEBPACK_IMPORTED_MODULE_3__.ShaderMaterial({\n                uniforms: {\n                    uTime: {\n                        value: 0.0\n                    },\n                    uColorHot: {\n                        value: new three__WEBPACK_IMPORTED_MODULE_3__.Color(0xffffff)\n                    },\n                    uColorMid1: {\n                        value: new three__WEBPACK_IMPORTED_MODULE_3__.Color(0xff7733)\n                    },\n                    uColorMid2: {\n                        value: new three__WEBPACK_IMPORTED_MODULE_3__.Color(0xff4477)\n                    },\n                    uColorMid3: {\n                        value: new three__WEBPACK_IMPORTED_MODULE_3__.Color(0x7744ff)\n                    },\n                    uColorOuter: {\n                        value: new three__WEBPACK_IMPORTED_MODULE_3__.Color(0x4477ff)\n                    },\n                    uNoiseScale: {\n                        value: 2.5\n                    },\n                    uFlowSpeed: {\n                        value: 0.22\n                    },\n                    uDensity: {\n                        value: 1.3\n                    }\n                },\n                vertexShader: `\n            varying vec2 vUv;\n            varying float vRadius;\n            varying float vAngle;\n            void main() {\n                vUv = uv;\n                vRadius = length(position.xy);\n                vAngle = atan(position.y, position.x);\n                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n            }\n        `,\n                fragmentShader: `\n            uniform float uTime;\n            uniform vec3 uColorHot;\n            uniform vec3 uColorMid1;\n            uniform vec3 uColorMid2;\n            uniform vec3 uColorMid3;\n            uniform vec3 uColorOuter;\n            uniform float uNoiseScale;\n            uniform float uFlowSpeed;\n            uniform float uDensity;\n\n            varying vec2 vUv;\n            varying float vRadius;\n            varying float vAngle;\n\n            vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n            vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n            vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }\n            vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }\n            \n            float snoise(vec3 v) {\n                const vec2 C = vec2(1.0/6.0, 1.0/3.0);\n                const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);\n                vec3 i  = floor(v + dot(v, C.yyy) );\n                vec3 x0 = v - i + dot(i, C.xxx) ;\n                vec3 g = step(x0.yzx, x0.xyz);\n                vec3 l = 1.0 - g;\n                vec3 i1 = min( g.xyz, l.zxy );\n                vec3 i2 = max( g.xyz, l.zxy );\n                vec3 x1 = x0 - i1 + C.xxx;\n                vec3 x2 = x0 - i2 + C.yyy;\n                vec3 x3 = x0 - D.yyy;\n                i = mod289(i);\n                vec4 p = permute( permute( permute( \n                         i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n                       + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n                       + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n                float n_ = 0.142857142857;\n                vec3  ns = n_ * D.wyz - D.xzx;\n                vec4 j = p - 49.0 * floor(p * ns.z * ns.z);\n                vec4 x_ = floor(j * ns.z);\n                vec4 y_ = floor(j - 7.0 * x_ );\n                vec4 x = x_ *ns.x + ns.yyyy;\n                vec4 y = y_ *ns.x + ns.yyyy;\n                vec4 h = 1.0 - abs(x) - abs(y);\n                vec4 b0 = vec4( x.xy, y.xy );\n                vec4 b1 = vec4( x.zw, y.zw );\n                vec4 s0 = floor(b0)*2.0 + 1.0;\n                vec4 s1 = floor(b1)*2.0 + 1.0;\n                vec4 sh = -step(h, vec4(0.0));\n                vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n                vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n                vec3 p0 = vec3(a0.xy,h.x);\n                vec3 p1 = vec3(a0.zw,h.y);\n                vec3 p2 = vec3(a1.xy,h.z);\n                vec3 p3 = vec3(a1.zw,h.w);\n                vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2,p2), dot(p3,p3)));\n                p0 *= norm.x; p1 *= norm.y; p2 *= norm.z; p3 *= norm.w;\n                vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n                m = m * m;\n                return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3) ) );\n            }\n\n            void main() {\n                float normalizedRadius = smoothstep(${DISK_INNER_RADIUS.toFixed(2)}, ${DISK_OUTER_RADIUS.toFixed(2)}, vRadius);\n                \n                float spiral = vAngle * 3.0 - (1.0 / (normalizedRadius + 0.1)) * 2.0;\n                vec2 noiseUv = vec2(vUv.x + uTime * uFlowSpeed * (2.0 / (vRadius * 0.3 + 1.0)) + sin(spiral) * 0.1, vUv.y * 0.8 + cos(spiral) * 0.1);\n                float noiseVal1 = snoise(vec3(noiseUv * uNoiseScale, uTime * 0.15));\n                float noiseVal2 = snoise(vec3(noiseUv * uNoiseScale * 3.0 + 0.8, uTime * 0.22));\n                float noiseVal3 = snoise(vec3(noiseUv * uNoiseScale * 6.0 + 1.5, uTime * 0.3));\n                \n                float noiseVal = (noiseVal1 * 0.45 + noiseVal2 * 0.35 + noiseVal3 * 0.2);\n                noiseVal = (noiseVal + 1.0) * 0.5;\n                \n                vec3 color = uColorOuter;\n                color = mix(color, uColorMid3, smoothstep(0.0, 0.25, normalizedRadius));\n                color = mix(color, uColorMid2, smoothstep(0.2, 0.55, normalizedRadius));\n                color = mix(color, uColorMid1, smoothstep(0.5, 0.75, normalizedRadius));\n                color = mix(color, uColorHot, smoothstep(0.7, 0.95, normalizedRadius));\n                \n                color *= (0.5 + noiseVal * 1.0);\n                float brightness = pow(1.0 - normalizedRadius, 1.0) * 3.5 + 0.5;\n                brightness *= (0.3 + noiseVal * 2.2);\n                \n                float pulse = sin(uTime * 1.8 + normalizedRadius * 12.0 + vAngle * 2.0) * 0.15 + 0.85;\n                brightness *= pulse;\n                \n                float alpha = uDensity * (0.2 + noiseVal * 0.9);\n                alpha *= smoothstep(0.0, 0.15, normalizedRadius);\n                alpha *= (1.0 - smoothstep(0.85, 1.0, normalizedRadius));\n                alpha = clamp(alpha, 0.0, 1.0);\n\n                gl_FragColor = vec4(color * brightness, alpha);\n            }\n        `,\n                transparent: true,\n                side: three__WEBPACK_IMPORTED_MODULE_3__.DoubleSide,\n                depthWrite: false,\n                blending: three__WEBPACK_IMPORTED_MODULE_3__.AdditiveBlending\n            });\n            const accretionDisk = new three__WEBPACK_IMPORTED_MODULE_3__.Mesh(diskGeometry, diskMaterial);\n            accretionDisk.rotation.x = DISK_TILT_ANGLE;\n            accretionDisk.renderOrder = 1;\n            scene.add(accretionDisk);\n            const clock = new three__WEBPACK_IMPORTED_MODULE_3__.Clock();\n            const blackHoleScreenPosVec3 = new three__WEBPACK_IMPORTED_MODULE_3__.Vector3();\n            // Mouse movement tracking\n            const handleMouseMove = {\n                \"BlackHole.useEffect.handleMouseMove\": (event)=>{\n                    const rect = mount.getBoundingClientRect();\n                    mouseRef.current.x = (event.clientX - rect.left) / rect.width * 2 - 1;\n                    mouseRef.current.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n                }\n            }[\"BlackHole.useEffect.handleMouseMove\"];\n            const handleResize = {\n                \"BlackHole.useEffect.handleResize\": ()=>{\n                    if (resizeTimeoutRef.current) clearTimeout(resizeTimeoutRef.current);\n                    resizeTimeoutRef.current = setTimeout({\n                        \"BlackHole.useEffect.handleResize\": ()=>{\n                            // Use viewport dimensions for full-width coverage\n                            const width = window.innerWidth;\n                            const height = window.innerHeight;\n                            camera.aspect = width / height;\n                            camera.updateProjectionMatrix();\n                            renderer.setSize(width, height);\n                            composer.setSize(width, height);\n                            bloomPass.resolution.set(width, height);\n                            lensingPass.uniforms.aspectRatio.value = width / height;\n                            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 1.5));\n                        }\n                    }[\"BlackHole.useEffect.handleResize\"], 150);\n                }\n            }[\"BlackHole.useEffect.handleResize\"];\n            const animate = {\n                \"BlackHole.useEffect.animate\": ()=>{\n                    rafRef.current = requestAnimationFrame(animate);\n                    // Pause rendering when not in viewport to save GPU\n                    if (!isInView || isPausedRef.current) {\n                        return;\n                    }\n                    const elapsedTime = clock.getElapsedTime();\n                    const deltaTime = clock.getDelta();\n                    diskMaterial.uniforms.uTime.value = elapsedTime;\n                    starMaterial.uniforms.uTime.value = elapsedTime;\n                    eventHorizonMat.uniforms.uTime.value = elapsedTime;\n                    eventHorizonMat.uniforms.uCameraPosition.value.copy(camera.position);\n                    blackHoleScreenPosVec3.copy(blackHoleMesh.position).project(camera);\n                    lensingPass.uniforms.blackHoleScreenPos.value.set((blackHoleScreenPosVec3.x + 1) / 2, (blackHoleScreenPosVec3.y + 1) / 2);\n                    // Subtle camera movement based on mouse position\n                    const mouseInfluence = 0.5; // Adjust this value to control sensitivity\n                    camera.position.x = baseCameraPosition.x + mouseRef.current.x * mouseInfluence;\n                    camera.position.y = baseCameraPosition.y + mouseRef.current.y * mouseInfluence * 0.5;\n                    camera.position.z = baseCameraPosition.z + mouseRef.current.y * mouseInfluence * 0.3;\n                    camera.lookAt(0, 0, 0);\n                    stars.rotation.y += deltaTime * 0.003;\n                    stars.rotation.x += deltaTime * 0.001;\n                    accretionDisk.rotation.z += deltaTime * 0.005;\n                    composer.render();\n                }\n            }[\"BlackHole.useEffect.animate\"];\n            window.addEventListener('resize', handleResize);\n            window.addEventListener('mousemove', handleMouseMove);\n            animate();\n            return ({\n                \"BlackHole.useEffect\": ()=>{\n                    if (rafRef.current) {\n                        cancelAnimationFrame(rafRef.current);\n                    }\n                    window.removeEventListener('resize', handleResize);\n                    window.removeEventListener('mousemove', handleMouseMove);\n                    if (resizeTimeoutRef.current) {\n                        clearTimeout(resizeTimeoutRef.current);\n                    }\n                    if (mount && renderer.domElement.parentNode === mount) {\n                        mount.removeChild(renderer.domElement);\n                    }\n                    renderer.dispose();\n                }\n            })[\"BlackHole.useEffect\"];\n        }\n    }[\"BlackHole.useEffect\"], [\n        isInView\n    ]); // Add isInView dependency\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"style\", {\n                children: `\n        .blackhole-background {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100vw;\n          height: 100vh;\n          z-index: 0;\n          pointer-events: none;\n        }\n        .blackhole-background canvas {\n          display: block;\n          width: 100% !important;\n          height: 100% !important;\n          opacity: 0.8;\n        }\n      `\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\rasto\\\\Desktop\\\\porto\\\\src\\\\components\\\\BlackHole.jsx\",\n                lineNumber: 452,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `blackhole-background ${className}`,\n                ref: (node)=>{\n                    mountRef.current = node;\n                    visibilityRef.current = node;\n                }\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\rasto\\\\Desktop\\\\porto\\\\src\\\\components\\\\BlackHole.jsx\",\n                lineNumber: 469,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BlackHole);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy9jb21wb25lbnRzL0JsYWNrSG9sZS5qc3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBRTJEO0FBQzVCO0FBQ3NEO0FBQ1I7QUFDVTtBQUNWO0FBQzlCO0FBRS9DLE1BQU1VLFlBQVksQ0FBQyxFQUFFQyxZQUFZLEVBQUUsRUFBRTtJQUNuQyxNQUFNQyxXQUFXWCw2Q0FBTUEsQ0FBQztJQUN4QixNQUFNWSxtQkFBbUJaLDZDQUFNQSxDQUFDO0lBQ2hDLE1BQU1hLFNBQVNiLDZDQUFNQSxDQUFDO0lBQ3RCLE1BQU1jLFdBQVdkLDZDQUFNQSxDQUFDO1FBQUVlLEdBQUc7UUFBR0MsR0FBRztJQUFFO0lBQ3JDLE1BQU1DLGNBQWNqQiw2Q0FBTUEsQ0FBQztJQUUzQiwyQ0FBMkM7SUFDM0MsTUFBTSxFQUFFa0IsS0FBS0MsYUFBYSxFQUFFQyxRQUFRLEVBQUUsR0FBR1osMkRBQVNBLENBQUM7UUFDakRhLFlBQVk7UUFDWkMsV0FBVztRQUNYQyxhQUFhO0lBQ2Y7SUFFQXRCLGdEQUFTQTsrQkFBQztZQUNSLE1BQU11QixRQUFRYixTQUFTYyxPQUFPO1lBQzlCLElBQUksQ0FBQ0QsT0FBTztZQUVaLE1BQU1FLG9CQUFvQjtZQUMxQixNQUFNQyxvQkFBb0JELG9CQUFvQjtZQUM5QyxNQUFNRSxvQkFBb0I7WUFDMUIsTUFBTUMsa0JBQWtCQyxLQUFLQyxFQUFFLEdBQUc7WUFFbEMsTUFBTUMsUUFBUSxJQUFJN0Isd0NBQVc7WUFDN0I2QixNQUFNRSxHQUFHLEdBQUcsSUFBSS9CLDBDQUFhLENBQUMsVUFBVTtZQUV4QyxNQUFNaUMsU0FBUyxJQUFJakMsb0RBQXVCLENBQUMsSUFBSW1DLE9BQU9DLFVBQVUsR0FBR0QsT0FBT0UsV0FBVyxFQUFFLEtBQUs7WUFDNUYscUNBQXFDO1lBQ3JDLE1BQU1DLHFCQUFxQjtnQkFBRTFCLEdBQUcsQ0FBQztnQkFBS0MsR0FBRztnQkFBSzBCLEdBQUc7WUFBSTtZQUNyRE4sT0FBT08sUUFB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T0FBTyxHQUFHb0s7Z0JBQzFCOzs7Ozs7OztBQUlSO0FBRUEsaUVBQWVwTCxTQUFTQSxFQUFDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXHJhc3RvXFxEZXNrdG9wXFxwb3J0b1xcc3JjXFxjb21wb25lbnRzXFxCbGFja0hvbGUuanN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcclxuXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuaW1wb3J0IHsgRWZmZWN0Q29tcG9zZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvRWZmZWN0Q29tcG9zZXIuanMnO1xyXG5pbXBvcnQgeyBSZW5kZXJQYXNzIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL1JlbmRlclBhc3MuanMnO1xyXG5pbXBvcnQgeyBVbnJlYWxCbG9vbVBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvVW5yZWFsQmxvb21QYXNzLmpzJztcclxuaW1wb3J0IHsgU2hhZGVyUGFzcyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9wb3N0cHJvY2Vzc2luZy9TaGFkZXJQYXNzLmpzJztcclxuaW1wb3J0IHsgdXNlSW5WaWV3IH0gZnJvbSAnLi4vaG9va3MvdXNlSW5WaWV3JztcclxuXHJcbmNvbnN0IEJsYWNrSG9sZSA9ICh7IGNsYXNzTmFtZSA9ICcnIH0pID0+IHtcclxuICBjb25zdCBtb3VudFJlZiA9IHVzZVJlZihudWxsKTtcclxuICBjb25zdCByZXNpemVUaW1lb3V0UmVmID0gdXNlUmVmKG51bGwpO1xyXG4gIGNvbnN0IHJhZlJlZiA9IHVzZVJlZihudWxsKTtcclxuICBjb25zdCBtb3VzZVJlZiA9IHVzZVJlZih7IHg6IDAsIHk6IDAgfSk7XHJcbiAgY29uc3QgaXNQYXVzZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xyXG4gIFxyXG4gIC8vIFRyYWNrIHZpc2liaWxpdHkgZm9yIHBhdXNpbmcgcmVuZGVyIGxvb3BcclxuICBjb25zdCB7IHJlZjogdmlzaWJpbGl0eVJlZiwgaXNJblZpZXcgfSA9IHVzZUluVmlldyh7XHJcbiAgICByb290TWFyZ2luOiAnMHB4JyxcclxuICAgIHRocmVzaG9sZDogMC4wMSxcclxuICAgIHRyaWdnZXJPbmNlOiBmYWxzZVxyXG4gIH0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgbW91bnQgPSBtb3VudFJlZi5jdXJyZW50O1xyXG4gICAgaWYgKCFtb3VudCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IEJMQUNLX0hPTEVfUkFESVVTID0gMS4zO1xyXG4gICAgY29uc3QgRElTS19JTk5FUl9SQURJVVMgPSBCTEFDS19IT0xFX1JBRElVUyArIDAuMjtcclxuICAgIGNvbnN0IERJU0tfT1VURVJfUkFESVVTID0gOC4wO1xyXG4gICAgY29uc3QgRElTS19USUxUX0FOR0xFID0gTWF0aC5QSSAvIDMuMDtcclxuXHJcbiAgICBjb25zdCBzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xyXG4gICAgc2NlbmUuZm9nID0gbmV3IFRIUkVFLkZvZ0V4cDIoMHgwMjAxMDQsIDAuMDI1KTtcclxuXHJcbiAgICBjb25zdCBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNjAsIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LCAwLjEsIDQwMDApO1xyXG4gICAgLy8gRml4ZWQgYmFzZSBwb3NpdGlvbiBmb3IgdGhlIGNhbWVyYVxyXG4gICAgY29uc3QgYmFzZUNhbWVyYVBvc2l0aW9uID0geyB4OiAtNi41LCB5OiA1LjAsIHo6IDYuNSB9O1xyXG4gICAgY2FtZXJhLnBvc2l0aW9uLnNldChiYXNlQ2FtZXJhUG9zaXRpb24ueCwgYmFzZUNhbWVyYVBvc2l0aW9uLnksIGJhc2VDYW1lcmFQb3NpdGlvbi56KTtcclxuXHJcbiAgICBjb25zdCByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsgYW50aWFsaWFzOiB0cnVlLCBwb3dlclByZWZlcmVuY2U6IFwiaGlnaC1wZXJmb3JtYW5jZVwiLCBhbHBoYTogdHJ1ZSB9KTtcclxuICAgIHJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XHJcbiAgICByZW5kZXJlci5zZXRQaXhlbFJhdGlvKE1hdGgubWluKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLCAxLjUpKTtcclxuICAgIHJlbmRlcmVyLm91dHB1dENvbG9yU3BhY2UgPSBUSFJFRS5TUkdCQ29sb3JTcGFjZTtcclxuICAgIHJlbmRlcmVyLnRvbmVNYXBwaW5nID0gVEhSRUUuQUNFU0ZpbG1pY1RvbmVNYXBwaW5nO1xyXG4gICAgcmVuZGVyZXIudG9uZU1hcHBpbmdFeHBvc3VyZSA9IDEuODsgLy8gSW5jcmVhc2VkIGV4cG9zdXJlIGZvciBicmlnaHRlciwgbW9yZSB2aXZpZCBjb2xvcnNcclxuICAgIHJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHgwMDAwMDAsIDAuMSk7IC8vIE1pbmltYWwgdHJhbnNwYXJlbmN5IGZvciB2aXZpZCBjb2xvcnNcclxuICAgIG1vdW50LmFwcGVuZENoaWxkKHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xyXG5cclxuICAgIGNvbnN0IGNvbXBvc2VyID0gbmV3IEVmZmVjdENvbXBvc2VyKHJlbmRlcmVyKTtcclxuICAgIGNvbXBvc2VyLmFkZFBhc3MobmV3IFJlbmRlclBhc3Moc2NlbmUsIGNhbWVyYSkpO1xyXG4gICAgXHJcbiAgICBjb25zdCBibG9vbVBhc3MgPSBuZXcgVW5yZWFsQmxvb21QYXNzKFxyXG4gICAgICAgIG5ldyBUSFJFRS5WZWN0b3IyKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpLFxyXG4gICAgICAgIDEuMiwgMC40LCAwLjkgIC8vIEluY3JlYXNlZCBibG9vbSBzdHJlbmd0aCBhbmQgdGhyZXNob2xkIGZvciBtb3JlIHZpYnJhbnQgZWZmZWN0XHJcbiAgICApO1xyXG4gICAgY29tcG9zZXIuYWRkUGFzcyhibG9vbVBhc3MpO1xyXG5cclxuICAgIGNvbnN0IGxlbnNpbmdTaGFkZXIgPSB7XHJcbiAgICAgICAgdW5pZm9ybXM6IHtcclxuICAgICAgICAgICAgXCJ0RGlmZnVzZVwiOiB7IHZhbHVlOiBudWxsIH0sXHJcbiAgICAgICAgICAgIFwiYmxhY2tIb2xlU2NyZWVuUG9zXCI6IHsgdmFsdWU6IG5ldyBUSFJFRS5WZWN0b3IyKDAuNSwgMC41KSB9LFxyXG4gICAgICAgICAgICBcImxlbnNpbmdTdHJlbmd0aFwiOiB7IHZhbHVlOiAwLjEyIH0sXHJcbiAgICAgICAgICAgIFwibGVuc2luZ1JhZGl1c1wiOiB7IHZhbHVlOiAwLjMgfSxcclxuICAgICAgICAgICAgXCJhc3BlY3RSYXRpb1wiOiB7IHZhbHVlOiB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCB9LFxyXG4gICAgICAgICAgICBcImNocm9tYXRpY0FiZXJyYXRpb25cIjogeyB2YWx1ZTogMC4wMDUgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdmVydGV4U2hhZGVyOiBgdmFyeWluZyB2ZWMyIHZVdjsgdm9pZCBtYWluKCkgeyB2VXYgPSB1djsgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKTsgfWAsXHJcbiAgICAgICAgZnJhZ21lbnRTaGFkZXI6IGBcclxuICAgICAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdERpZmZ1c2U7XHJcbiAgICAgICAgICAgIHVuaWZvcm0gdmVjMiBibGFja0hvbGVTY3JlZW5Qb3M7XHJcbiAgICAgICAgICAgIHVuaWZvcm0gZmxvYXQgbGVuc2luZ1N0cmVuZ3RoO1xyXG4gICAgICAgICAgICB1bmlmb3JtIGZsb2F0IGxlbnNpbmdSYWRpdXM7XHJcbiAgICAgICAgICAgIHVuaWZvcm0gZmxvYXQgYXNwZWN0UmF0aW87XHJcbiAgICAgICAgICAgIHVuaWZvcm0gZmxvYXQgY2hyb21hdGljQWJlcnJhdGlvbjtcclxuICAgICAgICAgICAgdmFyeWluZyB2ZWMyIHZVdjtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZvaWQgbWFpbigpIHtcclxuICAgICAgICAgICAgICAgIHZlYzIgc2NyZWVuUG9zID0gdlV2O1xyXG4gICAgICAgICAgICAgICAgdmVjMiB0b0NlbnRlciA9IHNjcmVlblBvcyAtIGJsYWNrSG9sZVNjcmVlblBvcztcclxuICAgICAgICAgICAgICAgIHRvQ2VudGVyLnggKj0gYXNwZWN0UmF0aW87XHJcbiAgICAgICAgICAgICAgICBmbG9hdCBkaXN0ID0gbGVuZ3RoKHRvQ2VudGVyKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZmxvYXQgZGlzdG9ydGlvbkFtb3VudCA9IGxlbnNpbmdTdHJlbmd0aCAvIChkaXN0ICogZGlzdCArIDAuMDAzKTtcclxuICAgICAgICAgICAgICAgIGRpc3RvcnRpb25BbW91bnQgPSBjbGFtcChkaXN0b3J0aW9uQW1vdW50LCAwLjAsIDAuNyk7XHJcbiAgICAgICAgICAgICAgICBmbG9hdCBmYWxsb2ZmID0gc21vb3Roc3RlcChsZW5zaW5nUmFkaXVzLCBsZW5zaW5nUmFkaXVzICogMC4zLCBkaXN0KTtcclxuICAgICAgICAgICAgICAgIGRpc3RvcnRpb25BbW91bnQgKj0gZmFsbG9mZjtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdmVjMiBvZmZzZXQgPSBub3JtYWxpemUodG9DZW50ZXIpICogZGlzdG9ydGlvbkFtb3VudDtcclxuICAgICAgICAgICAgICAgIG9mZnNldC54IC89IGFzcGVjdFJhdGlvO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB2ZWMyIGRpc3RvcnRlZFV2UiA9IHNjcmVlblBvcyAtIG9mZnNldCAqICgxLjAgKyBjaHJvbWF0aWNBYmVycmF0aW9uKTtcclxuICAgICAgICAgICAgICAgIHZlYzIgZGlzdG9ydGVkVXZHID0gc2NyZWVuUG9zIC0gb2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgdmVjMiBkaXN0b3J0ZWRVdkIgPSBzY3JlZW5Qb3MgLSBvZmZzZXQgKiAoMS4wIC0gY2hyb21hdGljQWJlcnJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGZsb2F0IHIgPSB0ZXh0dXJlMkQodERpZmZ1c2UsIGRpc3RvcnRlZFV2UikucjtcclxuICAgICAgICAgICAgICAgIGZsb2F0IGcgPSB0ZXh0dXJlMkQodERpZmZ1c2UsIGRpc3RvcnRlZFV2RykuZztcclxuICAgICAgICAgICAgICAgIGZsb2F0IGIgPSB0ZXh0dXJlMkQodERpZmZ1c2UsIGRpc3RvcnRlZFV2QikuYjtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChyLCBnLCBiLCAxLjApO1xyXG4gICAgICAgICAgICB9YFxyXG4gICAgfTtcclxuICAgIGNvbnN0IGxlbnNpbmdQYXNzID0gbmV3IFNoYWRlclBhc3MobGVuc2luZ1NoYWRlcik7XHJcbiAgICBjb21wb3Nlci5hZGRQYXNzKGxlbnNpbmdQYXNzKTtcclxuXHJcbiAgICAvLyBObyBjb250cm9scyAtIHRoaXMgaXMgYSBzdGF0aWMgYmFja2dyb3VuZCBhbmltYXRpb25cclxuXHJcbiAgICBjb25zdCBzdGFyR2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcclxuICAgIGNvbnN0IHN0YXJDb3VudCA9IDE1MDAwMDtcclxuICAgIGNvbnN0IHN0YXJQb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KHN0YXJDb3VudCAqIDMpO1xyXG4gICAgY29uc3Qgc3RhckNvbG9ycyA9IG5ldyBGbG9hdDMyQXJyYXkoc3RhckNvdW50ICogMyk7XHJcbiAgICBjb25zdCBzdGFyU2l6ZXMgPSBuZXcgRmxvYXQzMkFycmF5KHN0YXJDb3VudCk7XHJcbiAgICBjb25zdCBzdGFyVHdpbmtsZSA9IG5ldyBGbG9hdDMyQXJyYXkoc3RhckNvdW50KTtcclxuICAgIGNvbnN0IHN0YXJGaWVsZFJhZGl1cyA9IDIwMDA7XHJcbiAgICBjb25zdCBzdGFyUGFsZXR0ZSA9IFtcclxuICAgICAgICBuZXcgVEhSRUUuQ29sb3IoMHg4OGFhZmYpLCBuZXcgVEhSRUUuQ29sb3IoMHhmZmFhZmYpLCBuZXcgVEhSRUUuQ29sb3IoMHhhYWZmZmYpLFxyXG4gICAgICAgIG5ldyBUSFJFRS5Db2xvcigweGZmZGRhYSksIG5ldyBUSFJFRS5Db2xvcigweGZmZWVjYyksIG5ldyBUSFJFRS5Db2xvcigweGZmZmZmZiksXHJcbiAgICAgICAgbmV3IFRIUkVFLkNvbG9yKDB4ZmY4ODg4KSwgbmV3IFRIUkVFLkNvbG9yKDB4ODhmZjg4KSwgbmV3IFRIUkVFLkNvbG9yKDB4ZmZmZjg4KSxcclxuICAgICAgICBuZXcgVEhSRUUuQ29sb3IoMHg4OGZmZmYpXHJcbiAgICBdO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhckNvdW50OyBpKyspIHtcclxuICAgICAgICBjb25zdCBpMyA9IGkgKiAzO1xyXG4gICAgICAgIGNvbnN0IHBoaSA9IE1hdGguYWNvcygtMSArICgyICogaSkgLyBzdGFyQ291bnQpO1xyXG4gICAgICAgIGNvbnN0IHRoZXRhID0gTWF0aC5zcXJ0KHN0YXJDb3VudCAqIE1hdGguUEkpICogcGhpO1xyXG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IE1hdGguY2JydChNYXRoLnJhbmRvbSgpKSAqIHN0YXJGaWVsZFJhZGl1cyArIDEwMDtcclxuXHJcbiAgICAgICAgc3RhclBvc2l0aW9uc1tpM10gPSByYWRpdXMgKiBNYXRoLnNpbihwaGkpICogTWF0aC5jb3ModGhldGEpO1xyXG4gICAgICAgIHN0YXJQb3NpdGlvbnNbaTMgKyAxXSA9IHJhZGl1cyAqIE1hdGguc2luKHBoaSkgKiBNYXRoLnNpbih0aGV0YSk7XHJcbiAgICAgICAgc3RhclBvc2l0aW9uc1tpMyArIDJdID0gcmFkaXVzICogTWF0aC5jb3MocGhpKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3RhckNvbG9yID0gc3RhclBhbGV0dGVbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc3RhclBhbGV0dGUubGVuZ3RoKV0uY2xvbmUoKTtcclxuICAgICAgICBzdGFyQ29sb3IubXVsdGlwbHlTY2FsYXIoTWF0aC5yYW5kb20oKSAqIDAuNyArIDAuMyk7XHJcbiAgICAgICAgc3RhckNvbG9yc1tpM10gPSBzdGFyQ29sb3Iucjsgc3RhckNvbG9yc1tpMyArIDFdID0gc3RhckNvbG9yLmc7IHN0YXJDb2xvcnNbaTMgKyAyXSA9IHN0YXJDb2xvci5iO1xyXG4gICAgICAgIHN0YXJTaXplc1tpXSA9IFRIUkVFLk1hdGhVdGlscy5yYW5kRmxvYXQoMC42LCAzLjApO1xyXG4gICAgICAgIHN0YXJUd2lua2xlW2ldID0gTWF0aC5yYW5kb20oKSAqIE1hdGguUEkgKiAyO1xyXG4gICAgfVxyXG4gICAgc3Rhckdlb21ldHJ5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKHN0YXJQb3NpdGlvbnMsIDMpKTtcclxuICAgIHN0YXJHZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ2NvbG9yJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShzdGFyQ29sb3JzLCAzKSk7XHJcbiAgICBzdGFyR2VvbWV0cnkuc2V0QXR0cmlidXRlKCdzaXplJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShzdGFyU2l6ZXMsIDEpKTtcclxuICAgIHN0YXJHZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3R3aW5rbGUnLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKHN0YXJUd2lua2xlLCAxKSk7XHJcblxyXG4gICAgY29uc3Qgc3Rhck1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcclxuICAgICAgICB1bmlmb3Jtczoge1xyXG4gICAgICAgICAgICB1VGltZTogeyB2YWx1ZTogMCB9LFxyXG4gICAgICAgICAgICB1UGl4ZWxSYXRpbzogeyB2YWx1ZTogcmVuZGVyZXIuZ2V0UGl4ZWxSYXRpbygpIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHZlcnRleFNoYWRlcjogYFxyXG4gICAgICAgICAgICB1bmlmb3JtIGZsb2F0IHVUaW1lO1xyXG4gICAgICAgICAgICB1bmlmb3JtIGZsb2F0IHVQaXhlbFJhdGlvO1xyXG4gICAgICAgICAgICBhdHRyaWJ1dGUgZmxvYXQgc2l6ZTtcclxuICAgICAgICAgICAgYXR0cmlidXRlIGZsb2F0IHR3aW5rbGU7XHJcbiAgICAgICAgICAgIHZhcnlpbmcgdmVjMyB2Q29sb3I7XHJcbiAgICAgICAgICAgIHZhcnlpbmcgZmxvYXQgdlR3aW5rbGU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2b2lkIG1haW4oKSB7XHJcbiAgICAgICAgICAgICAgICB2Q29sb3IgPSBjb2xvcjtcclxuICAgICAgICAgICAgICAgIHZUd2lua2xlID0gc2luKHVUaW1lICogMi41ICsgdHdpbmtsZSkgKiAwLjUgKyAwLjU7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHZlYzQgbXZQb3NpdGlvbiA9IG1vZGVsVmlld01hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuMCk7XHJcbiAgICAgICAgICAgICAgICBnbF9Qb2ludFNpemUgPSBzaXplICogdVBpeGVsUmF0aW8gKiAoMzAwLjAgLyAtbXZQb3NpdGlvbi56KTtcclxuICAgICAgICAgICAgICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG12UG9zaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBgLFxyXG4gICAgICAgIGZyYWdtZW50U2hhZGVyOiBgXHJcbiAgICAgICAgICAgIHZhcnlpbmcgdmVjMyB2Q29sb3I7XHJcbiAgICAgICAgICAgIHZhcnlpbmcgZmxvYXQgdlR3aW5rbGU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2b2lkIG1haW4oKSB7XHJcbiAgICAgICAgICAgICAgICBmbG9hdCBkaXN0ID0gZGlzdGFuY2UoZ2xfUG9pbnRDb29yZCwgdmVjMigwLjUpKTtcclxuICAgICAgICAgICAgICAgIGlmIChkaXN0ID4gMC41KSBkaXNjYXJkO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBmbG9hdCBhbHBoYSA9IDEuMCAtIHNtb290aHN0ZXAoMC4wLCAwLjUsIGRpc3QpO1xyXG4gICAgICAgICAgICAgICAgYWxwaGEgKj0gKDAuMiArIHZUd2lua2xlICogMC44KTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCh2Q29sb3IsIGFscGhhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIGAsXHJcbiAgICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICAgICAgdmVydGV4Q29sb3JzOiB0cnVlLFxyXG4gICAgICAgIGJsZW5kaW5nOiBUSFJFRS5BZGRpdGl2ZUJsZW5kaW5nLFxyXG4gICAgICAgIGRlcHRoV3JpdGU6IGZhbHNlXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBzdGFycyA9IG5ldyBUSFJFRS5Qb2ludHMoc3Rhckdlb21ldHJ5LCBzdGFyTWF0ZXJpYWwpO1xyXG4gICAgc2NlbmUuYWRkKHN0YXJzKTtcclxuXHJcbiAgICBjb25zdCBldmVudEhvcml6b25HZW9tID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KEJMQUNLX0hPTEVfUkFESVVTICogMS4wNSwgMTI4LCA2NCk7XHJcbiAgICBjb25zdCBldmVudEhvcml6b25NYXQgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xyXG4gICAgICAgIHVuaWZvcm1zOiB7XHJcbiAgICAgICAgICAgIHVUaW1lOiB7IHZhbHVlOiAwIH0sXHJcbiAgICAgICAgICAgIHVDYW1lcmFQb3NpdGlvbjogeyB2YWx1ZTogY2FtZXJhLnBvc2l0aW9uIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHZlcnRleFNoYWRlcjogYFxyXG4gICAgICAgICAgICB2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcclxuICAgICAgICAgICAgdmFyeWluZyB2ZWMzIHZQb3NpdGlvbjtcclxuICAgICAgICAgICAgdm9pZCBtYWluKCkge1xyXG4gICAgICAgICAgICAgICAgdk5vcm1hbCA9IG5vcm1hbGl6ZShub3JtYWxNYXRyaXggKiBub3JtYWwpO1xyXG4gICAgICAgICAgICAgICAgdlBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KHBvc2l0aW9uLCAxLjApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgYCxcclxuICAgICAgICBmcmFnbWVudFNoYWRlcjogYFxyXG4gICAgICAgICAgICB1bmlmb3JtIGZsb2F0IHVUaW1lO1xyXG4gICAgICAgICAgICB1bmlmb3JtIHZlYzMgdUNhbWVyYVBvc2l0aW9uO1xyXG4gICAgICAgICAgICB2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcclxuICAgICAgICAgICAgdmFyeWluZyB2ZWMzIHZQb3NpdGlvbjtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZvaWQgbWFpbigpIHtcclxuICAgICAgICAgICAgICAgIHZlYzMgdmlld0RpcmVjdGlvbiA9IG5vcm1hbGl6ZSh1Q2FtZXJhUG9zaXRpb24gLSB2UG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgZmxvYXQgZnJlc25lbCA9IDEuMCAtIGFicyhkb3Qodk5vcm1hbCwgdmlld0RpcmVjdGlvbikpO1xyXG4gICAgICAgICAgICAgICAgZnJlc25lbCA9IHBvdyhmcmVzbmVsLCAyLjUpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB2ZWMzIGdsb3dDb2xvciA9IHZlYzMoMS4wLCAwLjQsIDAuMSk7XHJcbiAgICAgICAgICAgICAgICBmbG9hdCBwdWxzZSA9IHNpbih1VGltZSAqIDIuNSkgKiAwLjE1ICsgMC44NTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChnbG93Q29sb3IgKiBmcmVzbmVsICogcHVsc2UsIGZyZXNuZWwgKiAwLjQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgYCxcclxuICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcclxuICAgICAgICBibGVuZGluZzogVEhSRUUuQWRkaXRpdmVCbGVuZGluZyxcclxuICAgICAgICBzaWRlOiBUSFJFRS5CYWNrU2lkZVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgZXZlbnRIb3Jpem9uID0gbmV3IFRIUkVFLk1lc2goZXZlbnRIb3Jpem9uR2VvbSwgZXZlbnRIb3Jpem9uTWF0KTtcclxuICAgIHNjZW5lLmFkZChldmVudEhvcml6b24pO1xyXG5cclxuICAgIGNvbnN0IGJsYWNrSG9sZUdlb20gPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoQkxBQ0tfSE9MRV9SQURJVVMsIDEyOCwgNjQpO1xyXG4gICAgY29uc3QgYmxhY2tIb2xlTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHsgY29sb3I6IDB4MDAwMDAwIH0pO1xyXG4gICAgY29uc3QgYmxhY2tIb2xlTWVzaCA9IG5ldyBUSFJFRS5NZXNoKGJsYWNrSG9sZUdlb20sIGJsYWNrSG9sZU1hdCk7XHJcbiAgICBibGFja0hvbGVNZXNoLnJlbmRlck9yZGVyID0gMDtcclxuICAgIHNjZW5lLmFkZChibGFja0hvbGVNZXNoKTtcclxuXHJcbiAgICBjb25zdCBkaXNrR2VvbWV0cnkgPSBuZXcgVEhSRUUuUmluZ0dlb21ldHJ5KERJU0tfSU5ORVJfUkFESVVTLCBESVNLX09VVEVSX1JBRElVUywgMjU2LCAxMjgpO1xyXG4gICAgY29uc3QgZGlza01hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcclxuICAgICAgICB1bmlmb3Jtczoge1xyXG4gICAgICAgICAgICB1VGltZTogeyB2YWx1ZTogMC4wIH0sXHJcbiAgICAgICAgICAgIHVDb2xvckhvdDogeyB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmZmZmZmKSB9LFxyXG4gICAgICAgICAgICB1Q29sb3JNaWQxOiB7IHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHhmZjc3MzMpIH0sXHJcbiAgICAgICAgICAgIHVDb2xvck1pZDI6IHsgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweGZmNDQ3NykgfSxcclxuICAgICAgICAgICAgdUNvbG9yTWlkMzogeyB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4Nzc0NGZmKSB9LFxyXG4gICAgICAgICAgICB1Q29sb3JPdXRlcjogeyB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4NDQ3N2ZmKSB9LFxyXG4gICAgICAgICAgICB1Tm9pc2VTY2FsZTogeyB2YWx1ZTogMi41IH0sXHJcbiAgICAgICAgICAgIHVGbG93U3BlZWQ6IHsgdmFsdWU6IDAuMjIgfSxcclxuICAgICAgICAgICAgdURlbnNpdHk6IHsgdmFsdWU6IDEuMyB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB2ZXJ0ZXhTaGFkZXI6IGBcclxuICAgICAgICAgICAgdmFyeWluZyB2ZWMyIHZVdjtcclxuICAgICAgICAgICAgdmFyeWluZyBmbG9hdCB2UmFkaXVzO1xyXG4gICAgICAgICAgICB2YXJ5aW5nIGZsb2F0IHZBbmdsZTtcclxuICAgICAgICAgICAgdm9pZCBtYWluKCkge1xyXG4gICAgICAgICAgICAgICAgdlV2ID0gdXY7XHJcbiAgICAgICAgICAgICAgICB2UmFkaXVzID0gbGVuZ3RoKHBvc2l0aW9uLnh5KTtcclxuICAgICAgICAgICAgICAgIHZBbmdsZSA9IGF0YW4ocG9zaXRpb24ueSwgcG9zaXRpb24ueCk7XHJcbiAgICAgICAgICAgICAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KHBvc2l0aW9uLCAxLjApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgYCxcclxuICAgICAgICBmcmFnbWVudFNoYWRlcjogYFxyXG4gICAgICAgICAgICB1bmlmb3JtIGZsb2F0IHVUaW1lO1xyXG4gICAgICAgICAgICB1bmlmb3JtIHZlYzMgdUNvbG9ySG90O1xyXG4gICAgICAgICAgICB1bmlmb3JtIHZlYzMgdUNvbG9yTWlkMTtcclxuICAgICAgICAgICAgdW5pZm9ybSB2ZWMzIHVDb2xvck1pZDI7XHJcbiAgICAgICAgICAgIHVuaWZvcm0gdmVjMyB1Q29sb3JNaWQzO1xyXG4gICAgICAgICAgICB1bmlmb3JtIHZlYzMgdUNvbG9yT3V0ZXI7XHJcbiAgICAgICAgICAgIHVuaWZvcm0gZmxvYXQgdU5vaXNlU2NhbGU7XHJcbiAgICAgICAgICAgIHVuaWZvcm0gZmxvYXQgdUZsb3dTcGVlZDtcclxuICAgICAgICAgICAgdW5pZm9ybSBmbG9hdCB1RGVuc2l0eTtcclxuXHJcbiAgICAgICAgICAgIHZhcnlpbmcgdmVjMiB2VXY7XHJcbiAgICAgICAgICAgIHZhcnlpbmcgZmxvYXQgdlJhZGl1cztcclxuICAgICAgICAgICAgdmFyeWluZyBmbG9hdCB2QW5nbGU7XHJcblxyXG4gICAgICAgICAgICB2ZWMzIG1vZDI4OSh2ZWMzIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuMCAvIDI4OS4wKSkgKiAyODkuMDsgfVxyXG4gICAgICAgICAgICB2ZWM0IG1vZDI4OSh2ZWM0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuMCAvIDI4OS4wKSkgKiAyODkuMDsgfVxyXG4gICAgICAgICAgICB2ZWM0IHBlcm11dGUodmVjNCB4KSB7IHJldHVybiBtb2QyODkoKCh4KjM0LjApKzEuMCkqeCk7IH1cclxuICAgICAgICAgICAgdmVjNCB0YXlsb3JJbnZTcXJ0KHZlYzQgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBmbG9hdCBzbm9pc2UodmVjMyB2KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2ZWMyIEMgPSB2ZWMyKDEuMC82LjAsIDEuMC8zLjApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmVjNCBEID0gdmVjNCgwLjAsIDAuNSwgMS4wLCAyLjApO1xyXG4gICAgICAgICAgICAgICAgdmVjMyBpICA9IGZsb29yKHYgKyBkb3QodiwgQy55eXkpICk7XHJcbiAgICAgICAgICAgICAgICB2ZWMzIHgwID0gdiAtIGkgKyBkb3QoaSwgQy54eHgpIDtcclxuICAgICAgICAgICAgICAgIHZlYzMgZyA9IHN0ZXAoeDAueXp4LCB4MC54eXopO1xyXG4gICAgICAgICAgICAgICAgdmVjMyBsID0gMS4wIC0gZztcclxuICAgICAgICAgICAgICAgIHZlYzMgaTEgPSBtaW4oIGcueHl6LCBsLnp4eSApO1xyXG4gICAgICAgICAgICAgICAgdmVjMyBpMiA9IG1heCggZy54eXosIGwuenh5ICk7XHJcbiAgICAgICAgICAgICAgICB2ZWMzIHgxID0geDAgLSBpMSArIEMueHh4O1xyXG4gICAgICAgICAgICAgICAgdmVjMyB4MiA9IHgwIC0gaTIgKyBDLnl5eTtcclxuICAgICAgICAgICAgICAgIHZlYzMgeDMgPSB4MCAtIEQueXl5O1xyXG4gICAgICAgICAgICAgICAgaSA9IG1vZDI4OShpKTtcclxuICAgICAgICAgICAgICAgIHZlYzQgcCA9IHBlcm11dGUoIHBlcm11dGUoIHBlcm11dGUoIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgaS56ICsgdmVjNCgwLjAsIGkxLnosIGkyLnosIDEuMCApKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICsgaS55ICsgdmVjNCgwLjAsIGkxLnksIGkyLnksIDEuMCApKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICsgaS54ICsgdmVjNCgwLjAsIGkxLngsIGkyLngsIDEuMCApKTtcclxuICAgICAgICAgICAgICAgIGZsb2F0IG5fID0gMC4xNDI4NTcxNDI4NTc7XHJcbiAgICAgICAgICAgICAgICB2ZWMzICBucyA9IG5fICogRC53eXogLSBELnh6eDtcclxuICAgICAgICAgICAgICAgIHZlYzQgaiA9IHAgLSA0OS4wICogZmxvb3IocCAqIG5zLnogKiBucy56KTtcclxuICAgICAgICAgICAgICAgIHZlYzQgeF8gPSBmbG9vcihqICogbnMueik7XHJcbiAgICAgICAgICAgICAgICB2ZWM0IHlfID0gZmxvb3IoaiAtIDcuMCAqIHhfICk7XHJcbiAgICAgICAgICAgICAgICB2ZWM0IHggPSB4XyAqbnMueCArIG5zLnl5eXk7XHJcbiAgICAgICAgICAgICAgICB2ZWM0IHkgPSB5XyAqbnMueCArIG5zLnl5eXk7XHJcbiAgICAgICAgICAgICAgICB2ZWM0IGggPSAxLjAgLSBhYnMoeCkgLSBhYnMoeSk7XHJcbiAgICAgICAgICAgICAgICB2ZWM0IGIwID0gdmVjNCggeC54eSwgeS54eSApO1xyXG4gICAgICAgICAgICAgICAgdmVjNCBiMSA9IHZlYzQoIHguencsIHkuencgKTtcclxuICAgICAgICAgICAgICAgIHZlYzQgczAgPSBmbG9vcihiMCkqMi4wICsgMS4wO1xyXG4gICAgICAgICAgICAgICAgdmVjNCBzMSA9IGZsb29yKGIxKSoyLjAgKyAxLjA7XHJcbiAgICAgICAgICAgICAgICB2ZWM0IHNoID0gLXN0ZXAoaCwgdmVjNCgwLjApKTtcclxuICAgICAgICAgICAgICAgIHZlYzQgYTAgPSBiMC54enl3ICsgczAueHp5dypzaC54eHl5IDtcclxuICAgICAgICAgICAgICAgIHZlYzQgYTEgPSBiMS54enl3ICsgczEueHp5dypzaC56end3IDtcclxuICAgICAgICAgICAgICAgIHZlYzMgcDAgPSB2ZWMzKGEwLnh5LGgueCk7XHJcbiAgICAgICAgICAgICAgICB2ZWMzIHAxID0gdmVjMyhhMC56dyxoLnkpO1xyXG4gICAgICAgICAgICAgICAgdmVjMyBwMiA9IHZlYzMoYTEueHksaC56KTtcclxuICAgICAgICAgICAgICAgIHZlYzMgcDMgPSB2ZWMzKGExLnp3LGgudyk7XHJcbiAgICAgICAgICAgICAgICB2ZWM0IG5vcm0gPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KHAwLHAwKSwgZG90KHAxLHAxKSwgZG90KHAyLHAyKSwgZG90KHAzLHAzKSkpO1xyXG4gICAgICAgICAgICAgICAgcDAgKj0gbm9ybS54OyBwMSAqPSBub3JtLnk7IHAyICo9IG5vcm0uejsgcDMgKj0gbm9ybS53O1xyXG4gICAgICAgICAgICAgICAgdmVjNCBtID0gbWF4KDAuNiAtIHZlYzQoZG90KHgwLHgwKSwgZG90KHgxLHgxKSwgZG90KHgyLHgyKSwgZG90KHgzLHgzKSksIDAuMCk7XHJcbiAgICAgICAgICAgICAgICBtID0gbSAqIG07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gNDIuMCAqIGRvdCggbSptLCB2ZWM0KCBkb3QocDAseDApLCBkb3QocDEseDEpLCBkb3QocDIseDIpLCBkb3QocDMseDMpICkgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdm9pZCBtYWluKCkge1xyXG4gICAgICAgICAgICAgICAgZmxvYXQgbm9ybWFsaXplZFJhZGl1cyA9IHNtb290aHN0ZXAoJHtESVNLX0lOTkVSX1JBRElVUy50b0ZpeGVkKDIpfSwgJHtESVNLX09VVEVSX1JBRElVUy50b0ZpeGVkKDIpfSwgdlJhZGl1cyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGZsb2F0IHNwaXJhbCA9IHZBbmdsZSAqIDMuMCAtICgxLjAgLyAobm9ybWFsaXplZFJhZGl1cyArIDAuMSkpICogMi4wO1xyXG4gICAgICAgICAgICAgICAgdmVjMiBub2lzZVV2ID0gdmVjMih2VXYueCArIHVUaW1lICogdUZsb3dTcGVlZCAqICgyLjAgLyAodlJhZGl1cyAqIDAuMyArIDEuMCkpICsgc2luKHNwaXJhbCkgKiAwLjEsIHZVdi55ICogMC44ICsgY29zKHNwaXJhbCkgKiAwLjEpO1xyXG4gICAgICAgICAgICAgICAgZmxvYXQgbm9pc2VWYWwxID0gc25vaXNlKHZlYzMobm9pc2VVdiAqIHVOb2lzZVNjYWxlLCB1VGltZSAqIDAuMTUpKTtcclxuICAgICAgICAgICAgICAgIGZsb2F0IG5vaXNlVmFsMiA9IHNub2lzZSh2ZWMzKG5vaXNlVXYgKiB1Tm9pc2VTY2FsZSAqIDMuMCArIDAuOCwgdVRpbWUgKiAwLjIyKSk7XHJcbiAgICAgICAgICAgICAgICBmbG9hdCBub2lzZVZhbDMgPSBzbm9pc2UodmVjMyhub2lzZVV2ICogdU5vaXNlU2NhbGUgKiA2LjAgKyAxLjUsIHVUaW1lICogMC4zKSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGZsb2F0IG5vaXNlVmFsID0gKG5vaXNlVmFsMSAqIDAuNDUgKyBub2lzZVZhbDIgKiAwLjM1ICsgbm9pc2VWYWwzICogMC4yKTtcclxuICAgICAgICAgICAgICAgIG5vaXNlVmFsID0gKG5vaXNlVmFsICsgMS4wKSAqIDAuNTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdmVjMyBjb2xvciA9IHVDb2xvck91dGVyO1xyXG4gICAgICAgICAgICAgICAgY29sb3IgPSBtaXgoY29sb3IsIHVDb2xvck1pZDMsIHNtb290aHN0ZXAoMC4wLCAwLjI1LCBub3JtYWxpemVkUmFkaXVzKSk7XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IG1peChjb2xvciwgdUNvbG9yTWlkMiwgc21vb3Roc3RlcCgwLjIsIDAuNTUsIG5vcm1hbGl6ZWRSYWRpdXMpKTtcclxuICAgICAgICAgICAgICAgIGNvbG9yID0gbWl4KGNvbG9yLCB1Q29sb3JNaWQxLCBzbW9vdGhzdGVwKDAuNSwgMC43NSwgbm9ybWFsaXplZFJhZGl1cykpO1xyXG4gICAgICAgICAgICAgICAgY29sb3IgPSBtaXgoY29sb3IsIHVDb2xvckhvdCwgc21vb3Roc3RlcCgwLjcsIDAuOTUsIG5vcm1hbGl6ZWRSYWRpdXMpKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgY29sb3IgKj0gKDAuNSArIG5vaXNlVmFsICogMS4wKTtcclxuICAgICAgICAgICAgICAgIGZsb2F0IGJyaWdodG5lc3MgPSBwb3coMS4wIC0gbm9ybWFsaXplZFJhZGl1cywgMS4wKSAqIDMuNSArIDAuNTtcclxuICAgICAgICAgICAgICAgIGJyaWdodG5lc3MgKj0gKDAuMyArIG5vaXNlVmFsICogMi4yKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZmxvYXQgcHVsc2UgPSBzaW4odVRpbWUgKiAxLjggKyBub3JtYWxpemVkUmFkaXVzICogMTIuMCArIHZBbmdsZSAqIDIuMCkgKiAwLjE1ICsgMC44NTtcclxuICAgICAgICAgICAgICAgIGJyaWdodG5lc3MgKj0gcHVsc2U7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGZsb2F0IGFscGhhID0gdURlbnNpdHkgKiAoMC4yICsgbm9pc2VWYWwgKiAwLjkpO1xyXG4gICAgICAgICAgICAgICAgYWxwaGEgKj0gc21vb3Roc3RlcCgwLjAsIDAuMTUsIG5vcm1hbGl6ZWRSYWRpdXMpO1xyXG4gICAgICAgICAgICAgICAgYWxwaGEgKj0gKDEuMCAtIHNtb290aHN0ZXAoMC44NSwgMS4wLCBub3JtYWxpemVkUmFkaXVzKSk7XHJcbiAgICAgICAgICAgICAgICBhbHBoYSA9IGNsYW1wKGFscGhhLCAwLjAsIDEuMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciAqIGJyaWdodG5lc3MsIGFscGhhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIGAsXHJcbiAgICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICAgICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZSxcclxuICAgICAgICBkZXB0aFdyaXRlOiBmYWxzZSxcclxuICAgICAgICBibGVuZGluZzogVEhSRUUuQWRkaXRpdmVCbGVuZGluZ1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgYWNjcmV0aW9uRGlzayA9IG5ldyBUSFJFRS5NZXNoKGRpc2tHZW9tZXRyeSwgZGlza01hdGVyaWFsKTtcclxuICAgIGFjY3JldGlvbkRpc2sucm90YXRpb24ueCA9IERJU0tfVElMVF9BTkdMRTtcclxuICAgIGFjY3JldGlvbkRpc2sucmVuZGVyT3JkZXIgPSAxO1xyXG4gICAgc2NlbmUuYWRkKGFjY3JldGlvbkRpc2spO1xyXG5cclxuICAgIGNvbnN0IGNsb2NrID0gbmV3IFRIUkVFLkNsb2NrKCk7XHJcbiAgICBjb25zdCBibGFja0hvbGVTY3JlZW5Qb3NWZWMzID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcclxuXHJcbiAgICAvLyBNb3VzZSBtb3ZlbWVudCB0cmFja2luZ1xyXG4gICAgY29uc3QgaGFuZGxlTW91c2VNb3ZlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlY3QgPSBtb3VudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgbW91c2VSZWYuY3VycmVudC54ID0gKChldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0KSAvIHJlY3Qud2lkdGgpICogMiAtIDE7XHJcbiAgICAgIG1vdXNlUmVmLmN1cnJlbnQueSA9IC0oKGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcCkgLyByZWN0LmhlaWdodCkgKiAyICsgMTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgaGFuZGxlUmVzaXplID0gKCkgPT4ge1xyXG4gICAgICBpZiAocmVzaXplVGltZW91dFJlZi5jdXJyZW50KSBjbGVhclRpbWVvdXQocmVzaXplVGltZW91dFJlZi5jdXJyZW50KTtcclxuICAgICAgcmVzaXplVGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgLy8gVXNlIHZpZXdwb3J0IGRpbWVuc2lvbnMgZm9yIGZ1bGwtd2lkdGggY292ZXJhZ2VcclxuICAgICAgICBjb25zdCB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgICBcclxuICAgICAgICBjYW1lcmEuYXNwZWN0ID0gd2lkdGggLyBoZWlnaHQ7XHJcbiAgICAgICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcclxuICAgICAgICByZW5kZXJlci5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIGNvbXBvc2VyLnNldFNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgYmxvb21QYXNzLnJlc29sdXRpb24uc2V0KHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIGxlbnNpbmdQYXNzLnVuaWZvcm1zLmFzcGVjdFJhdGlvLnZhbHVlID0gd2lkdGggLyBoZWlnaHQ7XHJcbiAgICAgICAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyhNYXRoLm1pbih3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywgMS41KSk7XHJcbiAgICAgIH0sIDE1MCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGFuaW1hdGUgPSAoKSA9PiB7XHJcbiAgICAgIHJhZlJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xyXG4gICAgICBcclxuICAgICAgLy8gUGF1c2UgcmVuZGVyaW5nIHdoZW4gbm90IGluIHZpZXdwb3J0IHRvIHNhdmUgR1BVXHJcbiAgICAgIGlmICghaXNJblZpZXcgfHwgaXNQYXVzZWRSZWYuY3VycmVudCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgZWxhcHNlZFRpbWUgPSBjbG9jay5nZXRFbGFwc2VkVGltZSgpO1xyXG4gICAgICBjb25zdCBkZWx0YVRpbWUgPSBjbG9jay5nZXREZWx0YSgpO1xyXG5cclxuICAgICAgZGlza01hdGVyaWFsLnVuaWZvcm1zLnVUaW1lLnZhbHVlID0gZWxhcHNlZFRpbWU7XHJcbiAgICAgIHN0YXJNYXRlcmlhbC51bmlmb3Jtcy51VGltZS52YWx1ZSA9IGVsYXBzZWRUaW1lO1xyXG4gICAgICBldmVudEhvcml6b25NYXQudW5pZm9ybXMudVRpbWUudmFsdWUgPSBlbGFwc2VkVGltZTtcclxuICAgICAgZXZlbnRIb3Jpem9uTWF0LnVuaWZvcm1zLnVDYW1lcmFQb3NpdGlvbi52YWx1ZS5jb3B5KGNhbWVyYS5wb3NpdGlvbik7XHJcblxyXG4gICAgICBibGFja0hvbGVTY3JlZW5Qb3NWZWMzLmNvcHkoYmxhY2tIb2xlTWVzaC5wb3NpdGlvbikucHJvamVjdChjYW1lcmEpO1xyXG4gICAgICBsZW5zaW5nUGFzcy51bmlmb3Jtcy5ibGFja0hvbGVTY3JlZW5Qb3MudmFsdWUuc2V0KFxyXG4gICAgICAgICAgKGJsYWNrSG9sZVNjcmVlblBvc1ZlYzMueCArIDEpIC8gMixcclxuICAgICAgICAgIChibGFja0hvbGVTY3JlZW5Qb3NWZWMzLnkgKyAxKSAvIDJcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIFN1YnRsZSBjYW1lcmEgbW92ZW1lbnQgYmFzZWQgb24gbW91c2UgcG9zaXRpb25cclxuICAgICAgY29uc3QgbW91c2VJbmZsdWVuY2UgPSAwLjU7IC8vIEFkanVzdCB0aGlzIHZhbHVlIHRvIGNvbnRyb2wgc2Vuc2l0aXZpdHlcclxuICAgICAgY2FtZXJhLnBvc2l0aW9uLnggPSBiYXNlQ2FtZXJhUG9zaXRpb24ueCArIG1vdXNlUmVmLmN1cnJlbnQueCAqIG1vdXNlSW5mbHVlbmNlO1xyXG4gICAgICBjYW1lcmEucG9zaXRpb24ueSA9IGJhc2VDYW1lcmFQb3NpdGlvbi55ICsgbW91c2VSZWYuY3VycmVudC55ICogbW91c2VJbmZsdWVuY2UgKiAwLjU7XHJcbiAgICAgIGNhbWVyYS5wb3NpdGlvbi56ID0gYmFzZUNhbWVyYVBvc2l0aW9uLnogKyBtb3VzZVJlZi5jdXJyZW50LnkgKiBtb3VzZUluZmx1ZW5jZSAqIDAuMztcclxuICAgICAgY2FtZXJhLmxvb2tBdCgwLCAwLCAwKTtcclxuICAgICAgXHJcbiAgICAgIHN0YXJzLnJvdGF0aW9uLnkgKz0gZGVsdGFUaW1lICogMC4wMDM7XHJcbiAgICAgIHN0YXJzLnJvdGF0aW9uLnggKz0gZGVsdGFUaW1lICogMC4wMDE7XHJcblxyXG4gICAgICBhY2NyZXRpb25EaXNrLnJvdGF0aW9uLnogKz0gZGVsdGFUaW1lICogMC4wMDU7XHJcblxyXG4gICAgICBjb21wb3Nlci5yZW5kZXIoKTtcclxuICAgIH07XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlKTtcclxuICAgIGFuaW1hdGUoKTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBpZiAocmFmUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyYWZSZWYuY3VycmVudCk7XHJcbiAgICAgIH1cclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZU1vdmUpO1xyXG4gICAgICBpZiAocmVzaXplVGltZW91dFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6ZVRpbWVvdXRSZWYuY3VycmVudCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKG1vdW50ICYmIHJlbmRlcmVyLmRvbUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbW91bnQpIHtcclxuICAgICAgICBtb3VudC5yZW1vdmVDaGlsZChyZW5kZXJlci5kb21FbGVtZW50KTtcclxuICAgICAgfVxyXG4gICAgICByZW5kZXJlci5kaXNwb3NlKCk7XHJcbiAgICB9O1xyXG4gIH0sIFtpc0luVmlld10pOyAvLyBBZGQgaXNJblZpZXcgZGVwZW5kZW5jeVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPD5cclxuICAgICAgPHN0eWxlPntgXHJcbiAgICAgICAgLmJsYWNraG9sZS1iYWNrZ3JvdW5kIHtcclxuICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgICAgIHRvcDogMDtcclxuICAgICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgICAgICB3aWR0aDogMTAwdnc7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMHZoO1xyXG4gICAgICAgICAgei1pbmRleDogMDtcclxuICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gICAgICAgIH1cclxuICAgICAgICAuYmxhY2tob2xlLWJhY2tncm91bmQgY2FudmFzIHtcclxuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICAgICAgICAgIGhlaWdodDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgb3BhY2l0eTogMC44O1xyXG4gICAgICAgIH1cclxuICAgICAgYH08L3N0eWxlPlxyXG4gICAgICA8ZGl2IFxyXG4gICAgICAgIGNsYXNzTmFtZT17YGJsYWNraG9sZS1iYWNrZ3JvdW5kICR7Y2xhc3NOYW1lfWB9IFxyXG4gICAgICAgIHJlZj17KG5vZGUpID0+IHtcclxuICAgICAgICAgIG1vdW50UmVmLmN1cnJlbnQgPSBub2RlO1xyXG4gICAgICAgICAgdmlzaWJpbGl0eVJlZi5jdXJyZW50ID0gbm9kZTtcclxuICAgICAgICB9fVxyXG4gICAgICA+PC9kaXY+XHJcbiAgICA8Lz5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQmxhY2tIb2xlOyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVJlZiIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiVEhSRUUiLCJFZmZlY3RDb21wb3NlciIsIlJlbmRlclBhc3MiLCJVbnJlYWxCbG9vbVBhc3MiLCJTaGFkZXJQYXNzIiwidXNlSW5WaWV3IiwiQmxhY2tIb2xlIiwiY2xhc3NOYW1lIiwibW91bnRSZWYiLCJyZXNpemVUaW1lb3V0UmVmIiwicmFmUmVmIiwibW91c2VSZWYiLCJ4IiwieSIsImlzUGF1c2VkUmVmIiwicmVmIiwidmlzaWJpbGl0eVJlZiIsImlzSW5WaWV3Iiwicm9vdE1hcmdpbiIsInRocmVzaG9sZCIsInRyaWdnZXJPbmNlIiwibW91bnQiLCJjdXJyZW50IiwiQkxBQ0tfSE9MRV9SQURJVVMiLCJESVNLX0lOTkVSX1JBRElVUyIsIkRJU0tfT1VURVJfUkFESVVTIiwiRElTS19USUxUX0FOR0xFIiwiTWF0aCIsIlBJIiwic2NlbmUiLCJTY2VuZSIsImZvZyIsIkZvZ0V4cDIiLCJjYW1lcmEiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImJhc2VDYW1lcmFQb3NpdGlvbiIsInoiLCJwb3NpdGlvbiIsInNldCIsInJlbmRlcmVyIiwiV2ViR0xSZW5kZXJlciIsImFudGlhbGlhcyIsInBvd2VyUHJlZmVyZW5jZSIsImFscGhhIiwic2V0U2l6ZSIsInNldFBpeGVsUmF0aW8iLCJtaW4iLCJkZXZpY2VQaXhlbFJhdGlvIiwib3V0cHV0Q29sb3JTcGFjZSIsIlNSR0JDb2xvclNwYWNlIiwidG9uZU1hcHBpbmciLCJBQ0VTRmlsbWljVG9uZU1hcHBpbmciLCJ0b25lTWFwcGluZ0V4cG9zdXJlIiwic2V0Q2xlYXJDb2xvciIsImFwcGVuZENoaWxkIiwiZG9tRWxlbWVudCIsImNvbXBvc2VyIiwiYWRkUGFzcyIsImJsb29tUGFzcyIsIlZlY3RvcjIiLCJsZW5zaW5nU2hhZGVyIiwidW5pZm9ybXMiLCJ2YWx1ZSIsInZlcnRleFNoYWRlciIsImZyYWdtZW50U2hhZGVyIiwibGVuc2luZ1Bhc3MiLCJzdGFyR2VvbWV0cnkiLCJCdWZmZXJHZW9tZXRyeSIsInN0YXJDb3VudCIsInN0YXJQb3NpdGlvbnMiLCJGbG9hdDMyQXJyYXkiLCJzdGFyQ29sb3JzIiwic3RhclNpemVzIiwic3RhclR3aW5rbGUiLCJzdGFyRmllbGRSYWRpdXMiLCJzdGFyUGFsZXR0ZSIsIkNvbG9yIiwiaSIsImkzIiwicGhpIiwiYWNvcyIsInRoZXRhIiwic3FydCIsInJhZGl1cyIsImNicnQiLCJyYW5kb20iLCJzaW4iLCJjb3MiLCJzdGFyQ29sb3IiLCJmbG9vciIsImxlbmd0aCIsImNsb25lIiwibXVsdGlwbHlTY2FsYXIiLCJyIiwiZyIsImIiLCJNYXRoVXRpbHMiLCJyYW5kRmxvYXQiLCJzZXRBdHRyaWJ1dGUiLCJCdWZmZXJBdHRyaWJ1dGUiLCJzdGFyTWF0ZXJpYWwiLCJTaGFkZXJNYXRlcmlhbCIsInVUaW1lIiwidVBpeGVsUmF0aW8iLCJnZXRQaXhlbFJhdGlvIiwidHJhbnNwYXJlbnQiLCJ2ZXJ0ZXhDb2xvcnMiLCJibGVuZGluZyIsIkFkZGl0aXZlQmxlbmRpbmciLCJkZXB0aFdyaXRlIiwic3RhcnMiLCJQb2ludHMiLCJhZGQiLCJldmVudEhvcml6b25HZW9tIiwiU3BoZXJlR2VvbWV0cnkiLCJldmVudEhvcml6b25NYXQiLCJ1Q2FtZXJhUG9zaXRpb24iLCJzaWRlIiwiQmFja1NpZGUiLCJldmVudEhvcml6b24iLCJNZXNoIiwiYmxhY2tIb2xlR2VvbSIsImJsYWNrSG9sZU1hdCIsIk1lc2hCYXNpY01hdGVyaWFsIiwiY29sb3IiLCJibGFja0hvbGVNZXNoIiwicmVuZGVyT3JkZXIiLCJkaXNrR2VvbWV0cnkiLCJSaW5nR2VvbWV0cnkiLCJkaXNrTWF0ZXJpYWwiLCJ1Q29sb3JIb3QiLCJ1Q29sb3JNaWQxIiwidUNvbG9yTWlkMiIsInVDb2xvck1pZDMiLCJ1Q29sb3JPdXRlciIsInVOb2lzZVNjYWxlIiwidUZsb3dTcGVlZCIsInVEZW5zaXR5IiwidG9GaXhlZCIsIkRvdWJsZVNpZGUiLCJhY2NyZXRpb25EaXNrIiwicm90YXRpb24iLCJjbG9jayIsIkNsb2NrIiwiYmxhY2tIb2xlU2NyZWVuUG9zVmVjMyIsIlZlY3RvcjMiLCJoYW5kbGVNb3VzZU1vdmUiLCJldmVudCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjbGllbnRYIiwibGVmdCIsIndpZHRoIiwiY2xpZW50WSIsInRvcCIsImhlaWdodCIsImhhbmRsZVJlc2l6ZSIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJhc3BlY3QiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwicmVzb2x1dGlvbiIsImFzcGVjdFJhdGlvIiwiYW5pbWF0ZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImVsYXBzZWRUaW1lIiwiZ2V0RWxhcHNlZFRpbWUiLCJkZWx0YVRpbWUiLCJnZXREZWx0YSIsImNvcHkiLCJwcm9qZWN0IiwiYmxhY2tIb2xlU2NyZWVuUG9zIiwibW91c2VJbmZsdWVuY2UiLCJsb29rQXQiLCJyZW5kZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiZGlzcG9zZSIsInN0eWxlIiwiZGl2Iiwibm9kZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/components/BlackHole.jsx\n");

/***/ }),

/***/ "(pages-dir-node)/./src/hooks/useInView.js":
/*!********************************!*\
  !*** ./src/hooks/useInView.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useInView: () => (/* binding */ useInView)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\r\n * Hook to track if an element is in the viewport\r\n * Returns visibility state for conditional rendering and performance optimization\r\n * \r\n * @param {Object} options - IntersectionObserver options\r\n * @param {string} options.rootMargin - Margin around root (default: '200px' for preloading)\r\n * @param {number} options.threshold - Percentage of visibility required (default: 0.01)\r\n * @param {boolean} options.triggerOnce - Only trigger once (default: false for pause/resume)\r\n * @param {boolean} options.unmountWhenHidden - Completely unmount when not visible (default: false)\r\n * @returns {Object} { ref, isInView, hasBeenInView }\r\n */ function useInView(options = {}) {\n    const { rootMargin = '200px', threshold = 0.01, triggerOnce = false, unmountWhenHidden = false } = options;\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const [isInView, setIsInView] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [hasBeenInView, setHasBeenInView] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useInView.useEffect\": ()=>{\n            const element = ref.current;\n            if (!element) return;\n            // If triggerOnce and already been in view, keep it visible\n            if (triggerOnce && hasBeenInView) {\n                setIsInView(true);\n                return;\n            }\n            const observer = new IntersectionObserver({\n                \"useInView.useEffect\": ([entry])=>{\n                    const inView = entry.isIntersecting;\n                    setIsInView(inView);\n                    if (inView && !hasBeenInView) {\n                        setHasBeenInView(true);\n                    }\n                    // If triggerOnce, disconnect after first view\n                    if (triggerOnce && inView) {\n                        observer.disconnect();\n                    }\n                }\n            }[\"useInView.useEffect\"], {\n                rootMargin,\n                threshold\n            });\n            observer.observe(element);\n            return ({\n                \"useInView.useEffect\": ()=>{\n                    observer.disconnect();\n                }\n            })[\"useInView.useEffect\"];\n        }\n    }[\"useInView.useEffect\"], [\n        rootMargin,\n        threshold,\n        triggerOnce,\n        hasBeenInView\n    ]);\n    return {\n        ref,\n        isInView,\n        hasBeenInView,\n        // For complete unmounting when not visible\n        shouldRender: unmountWhenHidden ? isInView || !hasBeenInView : true\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy9ob29rcy91c2VJblZpZXcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW9EO0FBRXBEOzs7Ozs7Ozs7O0NBVUMsR0FDTSxTQUFTRyxVQUFVQyxVQUFVLENBQUMsQ0FBQztJQUNwQyxNQUFNLEVBQ0pDLGFBQWEsT0FBTyxFQUNwQkMsWUFBWSxJQUFJLEVBQ2hCQyxjQUFjLEtBQUssRUFDbkJDLG9CQUFvQixLQUFLLEVBQzFCLEdBQUdKO0lBRUosTUFBTUssTUFBTVIsNkNBQU1BLENBQUM7SUFDbkIsTUFBTSxDQUFDUyxVQUFVQyxZQUFZLEdBQUdULCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQ1UsZUFBZUMsaUJBQWlCLEdBQUdYLCtDQUFRQSxDQUFDO0lBRW5ERixnREFBU0E7K0JBQUM7WUFDUixNQUFNYyxVQUFVTCxJQUFJTSxPQUFPO1lBQzNCLElBQUksQ0FBQ0QsU0FBUztZQUVkLDJEQUEyRDtZQUMzRCxJQUFJUCxlQUFlSyxlQUFlO2dCQUNoQ0QsWUFBWTtnQkFDWjtZQUNGO1lBRUEsTUFBTUssV0FBVyxJQUFJQzt1Q0FDbkIsQ0FBQyxDQUFDQyxNQUFNO29CQUNOLE1BQU1DLFNBQVNELE1BQU1FLGNBQWM7b0JBRW5DVCxZQUFZUTtvQkFFWixJQUFJQSxVQUFVLENBQUNQLGVBQWU7d0JBQzVCQyxpQkFBaUI7b0JBQ25CO29CQUVBLDhDQUE4QztvQkFDOUMsSUFBSU4sZUFBZVksUUFBUTt3QkFDekJILFNBQVNLLFVBQVU7b0JBQ3JCO2dCQUNGO3NDQUNBO2dCQUNFaEI7Z0JBQ0FDO1lBQ0Y7WUFHRlUsU0FBU00sT0FBTyxDQUFDUjtZQUVqQjt1Q0FBTztvQkFDTEUsU0FBU0ssVUFBVTtnQkFDckI7O1FBQ0Y7OEJBQUc7UUFBQ2hCO1FBQVlDO1FBQVdDO1FBQWFLO0tBQWM7SUFFdEQsT0FBTztRQUNMSDtRQUNBQztRQUNBRTtRQUNBLDJDQUEyQztRQUMzQ1csY0FBY2Ysb0JBQW9CRSxZQUFZLENBQUNFLGdCQUFnQjtJQUNqRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXHJhc3RvXFxEZXNrdG9wXFxwb3J0b1xcc3JjXFxob29rc1xcdXNlSW5WaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuXHJcbi8qKlxyXG4gKiBIb29rIHRvIHRyYWNrIGlmIGFuIGVsZW1lbnQgaXMgaW4gdGhlIHZpZXdwb3J0XHJcbiAqIFJldHVybnMgdmlzaWJpbGl0eSBzdGF0ZSBmb3IgY29uZGl0aW9uYWwgcmVuZGVyaW5nIGFuZCBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb25cclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgb3B0aW9uc1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5yb290TWFyZ2luIC0gTWFyZ2luIGFyb3VuZCByb290IChkZWZhdWx0OiAnMjAwcHgnIGZvciBwcmVsb2FkaW5nKVxyXG4gKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy50aHJlc2hvbGQgLSBQZXJjZW50YWdlIG9mIHZpc2liaWxpdHkgcmVxdWlyZWQgKGRlZmF1bHQ6IDAuMDEpXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy50cmlnZ2VyT25jZSAtIE9ubHkgdHJpZ2dlciBvbmNlIChkZWZhdWx0OiBmYWxzZSBmb3IgcGF1c2UvcmVzdW1lKVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMudW5tb3VudFdoZW5IaWRkZW4gLSBDb21wbGV0ZWx5IHVubW91bnQgd2hlbiBub3QgdmlzaWJsZSAoZGVmYXVsdDogZmFsc2UpXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IHsgcmVmLCBpc0luVmlldywgaGFzQmVlbkluVmlldyB9XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlSW5WaWV3KG9wdGlvbnMgPSB7fSkge1xyXG4gIGNvbnN0IHtcclxuICAgIHJvb3RNYXJnaW4gPSAnMjAwcHgnLFxyXG4gICAgdGhyZXNob2xkID0gMC4wMSxcclxuICAgIHRyaWdnZXJPbmNlID0gZmFsc2UsXHJcbiAgICB1bm1vdW50V2hlbkhpZGRlbiA9IGZhbHNlXHJcbiAgfSA9IG9wdGlvbnM7XHJcblxyXG4gIGNvbnN0IHJlZiA9IHVzZVJlZihudWxsKTtcclxuICBjb25zdCBbaXNJblZpZXcsIHNldElzSW5WaWV3XSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbaGFzQmVlbkluVmlldywgc2V0SGFzQmVlbkluVmlld10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gcmVmLmN1cnJlbnQ7XHJcbiAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICAvLyBJZiB0cmlnZ2VyT25jZSBhbmQgYWxyZWFkeSBiZWVuIGluIHZpZXcsIGtlZXAgaXQgdmlzaWJsZVxyXG4gICAgaWYgKHRyaWdnZXJPbmNlICYmIGhhc0JlZW5JblZpZXcpIHtcclxuICAgICAgc2V0SXNJblZpZXcodHJ1ZSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcclxuICAgICAgKFtlbnRyeV0pID0+IHtcclxuICAgICAgICBjb25zdCBpblZpZXcgPSBlbnRyeS5pc0ludGVyc2VjdGluZztcclxuICAgICAgICBcclxuICAgICAgICBzZXRJc0luVmlldyhpblZpZXcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChpblZpZXcgJiYgIWhhc0JlZW5JblZpZXcpIHtcclxuICAgICAgICAgIHNldEhhc0JlZW5JblZpZXcodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiB0cmlnZ2VyT25jZSwgZGlzY29ubmVjdCBhZnRlciBmaXJzdCB2aWV3XHJcbiAgICAgICAgaWYgKHRyaWdnZXJPbmNlICYmIGluVmlldykge1xyXG4gICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHJvb3RNYXJnaW4sXHJcbiAgICAgICAgdGhyZXNob2xkXHJcbiAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50KTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XHJcbiAgICB9O1xyXG4gIH0sIFtyb290TWFyZ2luLCB0aHJlc2hvbGQsIHRyaWdnZXJPbmNlLCBoYXNCZWVuSW5WaWV3XSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICByZWYsXHJcbiAgICBpc0luVmlldyxcclxuICAgIGhhc0JlZW5JblZpZXcsXHJcbiAgICAvLyBGb3IgY29tcGxldGUgdW5tb3VudGluZyB3aGVuIG5vdCB2aXNpYmxlXHJcbiAgICBzaG91bGRSZW5kZXI6IHVubW91bnRXaGVuSGlkZGVuID8gaXNJblZpZXcgfHwgIWhhc0JlZW5JblZpZXcgOiB0cnVlXHJcbiAgfTtcclxufVxyXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJ1c2VJblZpZXciLCJvcHRpb25zIiwicm9vdE1hcmdpbiIsInRocmVzaG9sZCIsInRyaWdnZXJPbmNlIiwidW5tb3VudFdoZW5IaWRkZW4iLCJyZWYiLCJpc0luVmlldyIsInNldElzSW5WaWV3IiwiaGFzQmVlbkluVmlldyIsInNldEhhc0JlZW5JblZpZXciLCJlbGVtZW50IiwiY3VycmVudCIsIm9ic2VydmVyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyeSIsImluVmlldyIsImlzSW50ZXJzZWN0aW5nIiwiZGlzY29ubmVjdCIsIm9ic2VydmUiLCJzaG91bGRSZW5kZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/hooks/useInView.js\n");

/***/ })

};
;